<div class="card">
  <div class="grid mb-3">
    <p-toast key="tst"></p-toast>
    <div class="col-12 lg:col-2">
      <div class="fex">
        <!-- Basic details card view -->
        <div class="col text-center">
          <img
            [src]="employeePrsDtls.photo ? employeePrsDtls.photo : '/assets/layout/images/default_icon_employee.jpg'"
            [alt]="employeePrsDtls.employeeName"
            class="shadow-2 my-1 mx-0 employee_profile_pic employee_profile_pic_view" style="width: 70%;" />
        </div>
        <div class=" align-items-center text-xl text-center font-medium text-900 mb-1">{{employeePrsDtls?.employeeName}}
        </div>
        <!-- <div class=" align-items-center text-md text-center font-medium text-500 mb-1 text-secondary">Sr Angular
            developer </div> -->
        <span class="text-900 font-medium text-primary text-center text-3xl block">{{employeePrsDtls?.code}}</span>
        <ng-container *ngIf="enRollEmployee">
            <div class="mt-5">
              <app-final-submit
                [style.pointer-events]="educationDetails.length && workExperience.length && address.length && UploadedDocuments.length ? 'auto' : 'none'"
                [style.opacity]="educationDetails.length && workExperience.length && address.length && UploadedDocuments.length ? 1 : 0.5"
                ></app-final-submit>
            </div>
          </ng-container>
      </div>
    </div>
    <div class="col-12 lg:col-6 py-3 lg:pl-2">
      <div class="grid p-3 position-relative">
        <h5 class="col-12">Basic Details </h5>
        <hr />
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">Gender:</span> {{employeePrsDtls?.gender}}
        </div>
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">Blood Group:</span> {{employeePrsDtls?.bloodGroup}}
        </div>
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">Mobile Number:</span>{{employeePrsDtls?.mobileNumber}}
        </div>
        <div class="col-12 lg:col-6">
          <span class="text-primary font-bold text-900">Alt Mobile Number:
          </span>{{employeePrsDtls?.alternateMobileNumber}}
        </div>
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">DOB:</span> {{employeePrsDtls?.originalDOB | date:mediumDate }}
        </div>
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">Certificate DOB:</span> {{employeePrsDtls?.certificateDOB |
          date:mediumDate }}
        </div>
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">Marital Status:</span> {{employeePrsDtls?.maritalStatus}}
        </div>
        <div class="col-12 lg:col-6 ">
          <span class="text-primary font-bold text-900">Email ID:</span> {{employeePrsDtls?.emailId}}
        </div>
        <button pButton pRipple icon="pi pi-pencil" id="basic_details"
          class="p-element p-ripple p-button-text p-button p-component mr-2 float-button"
          (click)="showEmpPersDtlsDialog(employeePrsDtls)"></button>
      </div>
    </div>
    <!-- office details card view -->
    <div class="col-12 lg:col-4 py-3 lg:pl-6" *ngIf="!enRollEmployee">
      <div class="">
        <div class="grid p-3  position-relative">
          <h5 class="col-12"> Office Details </h5>
          <button pButton pRipple icon="pi pi-pencil" type="button" id="office_details"
            class="p-element p-ripple p-button-text p-button p-component mr-2 float-button"
            (click)="showEmpOfficDtlsDialog(employeeofficeDtls)"></button>
          <div class="col-12">
            <span class="text-primary font-bold text-900">Time In:</span> {{employeeofficeDtls?.timeIn}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">Time Out:</span> {{employeeofficeDtls?.timeOut}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">Office Email ID:</span> {{employeeofficeDtls?.officeEmailId}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">Joining Date:</span> {{employeeofficeDtls?.dateofJoin |
            date:mediumDate}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">Designation:</span> {{employeeofficeDtls?.designation}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">Reported To:</span> {{employeeofficeDtls?.reportingTo}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">PF Eligible:</span> {{employeeofficeDtls?.isPFEligible}}
          </div>
          <div class="col-12">
            <span class="text-primary font-bold text-900">ESI Elgible:</span> {{employeeofficeDtls?.isESIEligible}}
          </div>
          <br />
        </div>
      </div>
    </div>
  </div>
  <!-- Education Details card view -->
  <p-tabView>
    <p-tabPanel header="Education Details ">
      <div class="grid">
        <div class="col-12 lg:col-4" *ngFor="let education of educationDetails">
          <div class="card">
            <div class="text-900 font-bold text-2xl text-primary mb-3 mt-2">{{education?.stream}}</div>
            <ul class="list-none p-0 m-0 text-600 mb-4 text-600">
              <li class="mb-3">
                <span class="font-semibold ">Institution Name:</span> {{education?.institutionName}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">College Name:</span> {{education?.authorityName}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">YOP:</span> {{education?.passedOutyear | date: mediumDate}}
              </li>
              <li class="mb-3">
                <span class="font-semibold ">Grading System:</span> {{education?.gradingMethod}}
              </li>
              <li class="mb-3">
                <span class="font-semibold ">Score/Percentage:</span> {{education?.gradingValue}}
              </li>
            </ul>
          </div>
        </div>
        <div class="col-12 lg:col-4">
          <div class="card text-center">
            <button pButton pRipple icon="pi pi-plus"
              class="p-element p-ripple p-button-text p-button p-component m-5 p-5" (click)="ShowEducationDetails()">
              Add/Edit Eduction Details</button>
          </div>
        </div>
      </div>
    </p-tabPanel>
    <!-- Work Experience card view -->
    <p-tabPanel header="Work Experience ">
      <div class="grid">
        <div class="col-12 lg:col-4" *ngFor="let experiance of workExperience">
          <div class="card">
            <div class="text-900 font-bold text-2xl text-primary mb-3 mt-2">{{experiance?.companyName}}</div>
            <ul class="list-none p-0 m-0 text-600 mb-4 text-600">
              <li class="mb-2">
                <span class="font-semibold ">Company Location:</span>{{experiance?.companyLocation}}
              </li>
              <li class="mb-2">
                <span class="font-semibold ">From:</span> {{experiance?.dateOfJoining | date: mediumDate}}
              </li>
              <li class="mb-2">
                <span class="font-semibold ">To:</span> {{experiance?.dateOfReliving | date: mediumDate}}
              </li>
              <li class="mb-2">
                <span class="font-semibold mb-1">Designation:</span> {{experiance?.designation}}
              </li>
            </ul>
          </div>
        </div>
        <div class="col-12 lg:col-4">
          <div class="card text-center">
            <button pButton pRipple icon="pi pi-plus"
              class="p-element p-ripple p-button-text p-button p-component m-3 p-5" (click)="showExperienceDetails()">
              Add/Edit Work Experience </button>
          </div>
        </div>
      </div>
    </p-tabPanel>
    <!-- Family Details card view -->
    <p-tabPanel header="Family Details ">
      <div class="grid">
        <div class="col-12 lg:col-4" *ngFor="let familyDetails of familyDetails; let i = index">
          <div class="card">
            <div class="text-900 font-bold text-2xl text-primary mb-3 mt-2 position-relative">
              <button pButton pRipple icon="pi pi-pencil" class="p-element p-ripple p-button-text p-button p-component right-float-button" (click)="openComponentDialog(FamilydetailsDialogComponent, familyDetails, ActionTypes.edit)"></button>{{familyDetails.name}}
            </div>
            <ul class="list-none p-0 m-0 text-600 mb-4 text-600">
              <li class="mb-3">
                <span class="font-semibold">Date Of Birth:</span> {{familyDetails.dob | date: mediumDate}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">Adhaar No:</span> {{familyDetails.adhaarNo}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">Relationship Status:</span> {{familyDetails.relationship}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">Mobile No:</span> {{familyDetails.mobileNumber}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">Address:</span> {{familyDetails.addressLine1}},{{familyDetails.city}},{{familyDetails.state}},{{familyDetails.zipCode}}
              </li>
              <li class="mb-3">
                <span class="font-semibold">State:</span> {{familyDetails.state}}
              </li>
            </ul>
          </div>
        </div>
        <div class="col-12 lg:col-4">
          <div class="card text-center">
            <button pButton pRipple icon="pi pi-plus"
              class="p-element p-ripple p-button-text p-button p-component p-5 m-5"(click)="openComponentDialog(FamilydetailsDialogComponent, null, ActionTypes.add)"> Add
              Family Member</button>
          </div>
        </div>
      </div>
    </p-tabPanel>
    <!-- Address Details card view -->
    <p-tabPanel header="Address Details">
      <div class="grid">
        <div class="col-12 lg:col-4" *ngFor="let newadredss of address; let i = index">
          <div class="card">
            <div class="text-900 font-bold text-2xl text-primary mb-3 mt-2 position-relative">
              <button pButton pRipple icon="pi pi-pencil" class="p-element p-ripple p-button-text p-button p-component right-float-button" (click)="openComponentDialog(AddressDialogComponent, newadredss, ActionTypes.edit)"></button> {{ newadredss.addressType }}
            </div>
            {{ newadredss.employeeName }}, {{ newadredss.addressLine1 }}, {{ newadredss.city }},{{ newadredss.landmark
            }}, {{ newadredss.state }}
            {{ newadredss.zipCode }},{{ newadredss.country }}
          </div>
        </div>
        <div class="col-12 lg:col-4">
          <div class="card text-center">
            <button pButton pRipple icon="pi pi-plus"
              class="p-element p-ripple p-button-text p-button p-component m-5 p-5" (click)="openComponentDialog(AddressDialogComponent, null, ActionTypes.add)"> Add
              Address</button>
          </div>
        </div>
      </div>
    </p-tabPanel>
    <!-- Upload Documents card view -->
    <p-tabPanel header="Upload Documents">
      <div class="grid">
        <div class="col-12 text-right ">
          <button pButton pRipple icon="pi pi-plus" class="p-element p-ripple p-button-text p-button p-component mr-2 "  (click)="openComponentDialog(uploadDocumentsDialogComponent, null, ActionTypes.add)">&nbsp; Upload Document </button>
        </div>
        <div class="col-12 ">
          <p-table [value]="UploadedDocuments" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template pTemplate="header">
              <tr>
                <th>S.No</th>
                <th>Title</th>
                <th>FileName</th>
                <th>Actions</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-UploadedDocument let-rowIndex="rowIndex">
              <tr>
                <td class="pl-5">{{ rowIndex + 1 }}</td>
                <td>{{ UploadedDocument.title }}</td>
                <td class="pl-5">{{ UploadedDocument.fileName }}</td>
                <td>
                  <div class="flex">
                    <!-- <button pButton pRipple icon="pi pi-download" style="padding: 0px;"
                      class="p-element p-ripple p-button-text p-button p-component col-6"
                      (click)="downloadDocument(UploadedDocument)"></button><button pButton pRipple icon="pi pi-trash" id="delete"
                      class="p-element p-ripple p-button-text p-button p-component col-6"
                      (click)="removeDocument(UploadedDocument)"></button> -->
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </p-tabPanel>
    <!-- Assets card view -->
    <p-tabPanel header="Assets" *ngIf="!enRollEmployee">
      <div class="grid">
        <div class="col-12 lg:col-4" *ngFor="let asset of assetAllotments">
          <div class="card">
            <div class="text-900 font-bold text-2xl text-primary mb-1 mt-2">{{asset.assetName}}</div>
            <ul class="list-none p-0 m-0 text-600 mb-7 text-600">
              <li class="mb-3">
                <span class="font-semibold">Assigned On:</span>{{asset.assignedOn | date: mediumDate}}
              </li>
              <button id="unassign-asset-btn" pButton pRipple type="submit" label="Unassign"
                class="p-element p-ripple p-button-text p-button p-component p-button-primary w-100"
                (click)="openComponentDialog(unassignassetDialogComponent, asset, ActionTypes.unassign)"></button>
            </ul>
          </div>
        </div>
        <div class="col-12 lg:col-4">
          <div class="card text-center">
            <button pButton pRipple icon="pi pi-plus"
              class="p-element p-ripple p-button-text p-button p-component m-5 p-5"
              (click)="openComponentDialog(addassetallotmentDialogComponent, null, ActionTypes.add)"> Assign
              Asset</button>
          </div>
        </div>
      </div>
    </p-tabPanel>
    <!-- Bank Details card view -->
    <p-tabPanel header="Bank Details">
      <div class="grid">
        <div class="col-12 lg:col-4" *ngFor="let bank of bankDetails; let i = index">
          <div class="card">
            <div class="text-900 font-bold text-2xl text-primary mb-3 mt-2 position-relative">
              <button pButton pRipple icon="pi pi-pencil"
                class="p-element p-ripple p-button-text p-button p-component right-float-button"
                (click)="openComponentDialog(BankdetailsDialogComponent, bank, ActionTypes.edit)"></button>{{bank.bankName}}
            </div>
            <ul class="list-none p-0 m-0 text-600 mb-4 text-600">
              <li class="mb-2">
                <span class="font-semibold "> Name :</span> {{bank.employeeName}}
              </li>
              <li class="mb-2">
                <span class="font-semibold ">Account No. :</span> {{bank.accountNumber}}
              </li>
              <li class="mb-2">
                <span class="font-semibold ">IFSC Code :</span> {{bank.ifsc}}
              </li>
              <li class="mb-2">
                <span class="font-semibold mb-1">Branch Name :</span> {{bank.branchName}}
              </li>
            </ul>
          </div>
        </div>
        <div class="col-12 lg:col-4">
          <div class="card text-center">
            <button pButton pRipple icon="pi pi-plus"
              class="p-element p-ripple p-button-text p-button p-component m-5 p-5"
              (click)="openComponentDialog(BankdetailsDialogComponent, null, ActionTypes.add)"> Add Bank
              Details</button>
          </div>
        </div>
      </div>
    </p-tabPanel>
  </p-tabView>

  <!-- Basic Details p-dialog -->
  <p-dialog header=" Basic Details" [(visible)]="dialog" [modal]="true" showEffect="fade"
    [breakpoints]="{'960px': '70%', '640px': '80%'}" [style]="{width: '70%'}">
    <div class="flex flex-column align-items-center justify-content-center">
      <form [formGroup]="fbEmpBasDtls">
        <div class="grid">
          <div class="col-12 roles-container">
            <div class="p-fluid p-formgrid grid">
              <div class="field col-12 md:col-4">
                <label class="required">First Name:</label>
                <input type="text" id="first_Name" pInputText formControlName="firstName" #firstname alphaOnly
                  [maxlength]="50" (keydown)="restrictSpaces($event)" placeholder="Enter First Name"
                  [ngClass]="{'is-invalid ng-dirty': EmpBasDtlsFormControls['firstName'].touched && EmpBasDtlsFormControls['firstName'].errors }" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['firstName'].touched && EmpBasDtlsFormControls['firstName'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['firstName'].errors?.['required']">
                        Please Enter First Name.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['firstName'].errors?.['minlength']">
                        First Name Min Length Is 2.</div>
                    </span>
                  </div>
                  <div class="align-right w-40" style="width:30%; text-align:right;">
                    <small>{{firstname.value.length}}/{{maxLength.name}} </small>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label>Middle Name:</label>
                <input type="text" id="middle_Name" pInputText formControlName="middleName" #middlename alphaOnly
                  [maxlength]="50" (keydown)="restrictSpaces($event)" placeholder="Enter Middle Name"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['middleName'].touched && EmpBasDtlsFormControls['middleName'].errors }"
                  (keydown)="restrictSpaces($event)" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['middleName'].touched && EmpBasDtlsFormControls['middleName'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['middleName'].errors?.['minlength']">
                        Middle Name Min Length Is 2.</div>
                    </span>
                  </div>
                  <div class="align-right w-40" style="width:30%; text-align:right;">
                    <small>{{middlename.value.length}}/{{maxLength.name}} </small>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Last Name:</label>
                <input type="text" id="last_Name" pInputText formControlName="lastName" #lastname alphaOnly
                  [maxlength]="50" (keydown)="restrictSpaces($event)" placeholder="Enter Last Name"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['lastName'].touched && EmpBasDtlsFormControls['lastName'].errors }" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['lastName'].touched && EmpBasDtlsFormControls['lastName'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['lastName'].errors?.['required']">
                        Please Enter Last Name.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['lastName'].errors?.['minlength']">
                        Last Name Min Length Is 2.</div>
                    </span>
                  </div>
                  <div class="align-right w-40" style="width:30%; text-align:right;">
                    <small>{{lastname.value.length}}/{{maxLength.name}} </small>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Gender: </label>
                <p-dropdown id="gender" placeholder="Select Gender" [options]="genders" optionLabel="name"
                  formControlName="gender" optionValue="name"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['gender'].touched && EmpBasDtlsFormControls['gender'].errors}">
                </p-dropdown>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span *ngIf="EmpBasDtlsFormControls['gender'].touched && EmpBasDtlsFormControls['gender'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['gender'].errors?.['required']">
                        Please Select Gender.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Blood Group:</label>
                <p-dropdown id="bloodgroup_dropdown" [autoDisplayFirst]="false" optionLabel="name"
                  [options]="bloodgroups" optionValue="lookupDetailId" formControlName="bloodGroupId"
                  placeholder="Blood Group"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['bloodGroupId'].touched && EmpBasDtlsFormControls['bloodGroupId'].errors}">
                </p-dropdown>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['bloodGroupId'].touched && EmpBasDtlsFormControls['bloodGroupId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['bloodGroupId'].errors?.['required']">
                        Please Select Blood Group.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Mobile Number:</label>
                <input type="text" id="mobileno" pInputText formControlName="mobileNumber" #mobileNumber numericOnly
                  [maxlength]="10" (keydown)="restrictSpaces($event)" placeholder="Enter Mobile Number"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['mobileNumber'].touched && EmpBasDtlsFormControls['mobileNumber'].errors}" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['mobileNumber'].touched && EmpBasDtlsFormControls['mobileNumber'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['mobileNumber'].errors?.['required']">
                        Please Enter Mobile Number.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['mobileNumber'].errors?.['pattern']">
                        First Digit Should Be Greater Than 4 And Must Contains 10 Digits.</div>
                    </span>
                  </div>
                  <div class="align-right w-40" style="width:30%; text-align:right;">
                    <small>{{mobileNumber.value.length}}/{{maxLength.phoneNo}} </small>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label>Alternate Mobile Number:</label>
                <input type="text" id="alternativePhoneNo" pInputText formControlName="alternateMobileNumber"
                  #alternateNumber numericOnly [maxlength]="10" (keydown)="restrictSpaces($event)"
                  placeholder="Enter Alternate Mobile Number"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['alternateMobileNumber'].touched && EmpBasDtlsFormControls['alternateMobileNumber'].errors}" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['alternateMobileNumber'].touched && EmpBasDtlsFormControls['alternateMobileNumber'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['alternateMobileNumber'].errors?.['pattern']">
                        First Digit Should Be Greater Than 4 And Must Contains 10 Digits.</div>
                    </span>
                  </div>
                  <div class="align-right w-40" style="width:30%; text-align:right;">
                    <small>{{alternateNumber.value.length}}/{{maxLength.phoneNo}} </small>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label>Orginal DOB:</label>
                <p-calendar [readonlyInput]="true" [showIcon]="true" id="original_dob" formControlName="originalDob"
                  mask="99/99/9999" placeholder="Select Original DOB"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['originalDob'].touched && EmpBasDtlsFormControls['originalDob'].errors}">
                </p-calendar>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['originalDob'].touched && EmpBasDtlsFormControls['originalDob'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['originalDob'].errors?.['required']">
                        Please Select Original DOB.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Certificate DOB:</label>
                <p-calendar [readonlyInput]="true" [showIcon]="true" id="certificate_dob" mask="99/99/9999"
                  formControlName="certificateDob" placeholder="Select Certificate DOB"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['certificateDob'].touched && EmpBasDtlsFormControls['certificateDob'].errors}">
                </p-calendar>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['certificateDob'].touched && EmpBasDtlsFormControls['certificateDob'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['certificateDob'].errors?.['required']">
                        Please Select Certificate DOB.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label>Marital Status:</label>
                <p-dropdown id="maritalStatus" placeholder="Select Marital Status" [options]="status" optionLabel="name"
                  formControlName="maritalStatus" optionValue="name"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['maritalStatus'].touched && EmpBasDtlsFormControls['maritalStatus'].errors}">
                </p-dropdown>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['maritalStatus'].touched && EmpBasDtlsFormControls['maritalStatus'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['maritalStatus'].errors?.['required']">
                        Please Select Marital Status.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Email ID:</label>
                <input type="text" id="inputtext" pInputText formControlName="emailId" #email
                  placeholder="Enter Email Id"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpBasDtlsFormControls['emailId'].touched && EmpBasDtlsFormControls['emailId'].errors }" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpBasDtlsFormControls['emailId'].touched && EmpBasDtlsFormControls['emailId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['emailId'].errors?.['required']">
                        Please Enter Email Id.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['emailId'].errors?.['pattern']">
                        Must in Email Id Format.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpBasDtlsFormControls['emailId'].errors?.['minlength']">
                        Email Id Min Length Is 2.</div>
                    </span>
                  </div>
                  <!-- <div class="align-right w-40" style="width:30%; text-align:right;">
                  <small>{{email.value.length}}/{{maxLength.name}} </small>
                </div> -->
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <img [src]="this.fbEmpBasDtls.get('photo').value"
                  onerror="this.onerror=null; this.src='https://t3.ftcdn.net/jpg/02/18/21/86/360_F_218218632_jF6XAkcrlBjv1mAg9Ow0UBMLBaJrhygH.jpg'"
                  alt="photo" height="100px" width="100px" class="up_logo">
                <p-fileUpload mode="basic" [maxFileSize]="1000000" chooseLabel="Choose Photo"
                  url="https://www.primefaces.org/cdn/api/upload.php" (onSelect)="onFileSelect($event)"
                  accept="image/jpeg, image/png, image/jpg"></p-fileUpload>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <ng-template pTemplate="footer">
      <div class="col-4" style="float:right">
        <button pButton pRipple type="submit" (click)="saveEmpBscDtls()" [disabled]="fbEmpBasDtls.invalid"
          id="Update_Personal_Details" class="p-button-raised p-button-primary">{{basicdtlsSubmitLabel}}</button>
      </div>
    </ng-template>
  </p-dialog>

  <!-- p-dialog office Details-->
  <p-dialog header="Office  Details" [(visible)]="officedialog" [modal]="true" showEffect="fade"
    [breakpoints]="{'960px': '70%', '640px': '80%'}" [style]="{width: '70%'}">
    <div class="flex flex-column align-items-center justify-content-center">
      <form [formGroup]="fbOfficDtls">
        <div class="grid">
          <div class="col-12 roles-container">
            <div class="p-fluid p-formgrid grid">
              <div class="field col-12 md:col-4">
                <label class="required">Time In:</label>
                <p-calendar class="cursor-pointer" [timeOnly]="true" [showIcon]="true" icon="pi pi-clock"
                  placeholder="Time In" [showSeconds]="false" dataType="string" [readonlyInput]="true"
                  formControlName="strTimeIn" id="time_in" appendTo="body"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpOfficeFormControls['strTimeIn'].touched && EmpOfficeFormControls['strTimeIn'].errors }">
                </p-calendar>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpOfficeFormControls['strTimeIn'].touched && EmpOfficeFormControls['strTimeIn'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['strTimeIn'].errors?.['required']">
                        Please Select Time In.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Time Out: </label>
                <p-calendar class="cursor-pointer" [timeOnly]="true" [showIcon]="true" icon="pi pi-clock"
                  placeholder="Time Out" [showSeconds]="false" dataType="string" [readonlyInput]="true"
                  formControlName="strTimeOut" id="time_out" appendTo="body"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpOfficeFormControls['strTimeOut'].touched && EmpOfficeFormControls['strTimeOut'].errors }">
                </p-calendar>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpOfficeFormControls['strTimeOut'].touched && EmpOfficeFormControls['strTimeOut'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['strTimeOut'].errors?.['required']">
                        Please Select Time Out.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Office Email ID:</label>
                <input pInputText id="office_Email_Id" #officeEmailId placeholder="Enter Office Email Id" type="text"
                  formControlName="officeEmailId"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpOfficeFormControls['officeEmailId'].touched && EmpOfficeFormControls['officeEmailId'].errors }" />
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpOfficeFormControls['officeEmailId'].touched && EmpOfficeFormControls['officeEmailId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['officeEmailId'].errors?.['required']">
                        Please Enter Office Email Id.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['officeEmailId'].errors?.['pattern']">
                        Must in Email Id Format.</div>
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['officeEmailId'].errors?.['minlength']">
                        Email Id Min Length Is 2.</div>
                    </span>
                  </div>
                  <!-- <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{email.value.length}}/{{maxLength.name}} </small>
                    </div> -->
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Joining Date:</label>
                <p-calendar [showIcon]="true" placeholder="Select Joining Date" formControlName="dateofJoin"
                  id="date_of_joining" appendTo="body"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpOfficeFormControls['dateofJoin'].touched && EmpOfficeFormControls['dateofJoin'].errors }">
                </p-calendar>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpOfficeFormControls['dateofJoin'].touched && EmpOfficeFormControls['dateofJoin'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['dateofJoin'].errors?.['required']">
                        Please Select Joining Date.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Designation:</label>
                <p-dropdown id="designation" placeholder="Select Designation" optionLabel="name"
                  placeholder="Select Designation" [options]="designation" optionValue="lookupDetailId"
                  formControlName="designationId" [autoDisplayFirst]="false" appendTo="body"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpOfficeFormControls['designationId'].touched && EmpOfficeFormControls['designationId'].errors }">
                </p-dropdown>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpOfficeFormControls['designationId'].touched && EmpOfficeFormControls['designationId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['designationId'].errors?.['required']">
                        Please Select Designation.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <div class="field col-12 md:col-4">
                <label class="required">Reported To:</label>
                <p-dropdown id="reported_dropdown" [autoDisplayFirst]="false" optionLabel="employeeName"
                  [options]="employees" optionValue="employeeId" appendTo="body" formControlName="reportingToId"
                  placeholder="Select Reported To"
                  [ngClass]="{ 'is-invalid ng-dirty': EmpOfficeFormControls['reportingToId'].touched && EmpOfficeFormControls['reportingToId'].errors }">
                </p-dropdown>
                <div class="flex">
                  <div class="align-left w-60" style="width:70%">
                    <span
                      *ngIf="EmpOfficeFormControls['reportingToId'].touched && EmpOfficeFormControls['reportingToId'].invalid">
                      <div class="ng-invalid ng-touched p-error"
                        *ngIf="EmpOfficeFormControls['reportingToId'].errors?.['required']">
                        Please Select Reported To.
                      </div>
                    </span>
                  </div>
                </div>
              </div>
              <!-- <div class="field col-12 md:col-4"><label>Project Name: <sup class="p-error">*</sup></label>&nbsp; <input pInputText id="projectName" #projectName placeholder="Enter Project Name"
                    type="text" formControlName="ProjectName" /></div> -->
              <div class="field col-6 md:col-4">
                <label>PF Eligible:</label>
                <br>
                <p-inputSwitch formControlName="isPfeligible" id="isPfeligible"></p-inputSwitch>
              </div>
              <div class="field col-6 md:col-4">
                <label>ESI Eligible:</label>
                <br>
                <p-inputSwitch formControlName="isEsieligible" id="isEsieligible"></p-inputSwitch>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <ng-template pTemplate="footer">
      <div class="col-4" style="float:right">
        <button pButton pRipple type="submit" (click)="saveEmpOfficDtls()" class="p-button-raised p-button-primary"
          [disabled]="fbOfficDtls.invalid">{{officeSubmitLabel}}</button>
      </div>
    </ng-template>
  </p-dialog>
</div>

<!--p-dialog Education Details-->

<p-dialog header="Education Details" [(visible)]="Education" [modal]="true" showEffect="fade"
  [breakpoints]="{'960px': '70%', '640px': '80%'}" [style]="{width: '80%'}" (onHide)="onClose()">
  <form [formGroup]="fbEducationDetails">
    <div class=" align-items-center justify-content-center">
      <div class="p-fluid p-formgrid grid">
        <div class=" col-12 md:col-4 text-right mt-2">
          <div class=" button-container">
            <p-button type="button" label="Add Education Details" id="add_Education_Details"
              (click)="addEducationDetails()"></p-button>
          </div>
        </div>
        <div class="col-12 scrolling_content" formArrayName="educationDetails">
          <p-table #dt2 [value]="faeducationDetail().controls" dataKey="id" [rows]="10" [rowHover]="true"
            styleClass="p-datatable-gridlines p-datatable-striped p-datatable-sm" [paginator]="false"
            [autoLayout]="true" responsiveLayout="scroll" [rowsPerPageOptions]="[10,25,50]">>
            <ng-template pTemplate="header" let-education let-educationDetailsIndex="rowIndex">
              <tr>
                <th>Circulum <sup class="p-error">*</sup></th>
                <th>Stream <sup class="p-error">*</sup></th>
                <th>Country <sup class="p-error">*</sup></th>
                <th>State <sup class="p-error">*</sup></th>
                <th>School/College Name</th>
                <th>Board/University Name <sup class="p-error">*</sup></th>
                <th>Year of pass <sup class="p-error">*</sup></th>
                <th>Grading System <sup class="p-error">*</sup></th>
                <th>CGPA/Percentage System <sup class="p-error">*</sup> </th>
                <th *ngIf="fbEducationDetails.controls['educationDetails'].value.length > 1"></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-education let-educationDetailsIndex="rowIndex">
              <tr [formGroupName]="educationDetailsIndex">
                <td class="vertical-align-top">
                  <p-dropdown id="circulum_dropdown" [autoDisplayFirst]="false" [options]="circulum"
                    placeholder="Select Curriculum" optionLabel="name" appendTo="body" optionValue="lookupDetailId"
                    formControlName="curriculumId" (onChange)="onCurriculumChange($event.value, educationDetailsIndex)" [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'curriculumId')?.touched &&
                    formArrayControls(educationDetailsIndex,'curriculumId')?.errors }"></p-dropdown>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'curriculumId').touched && formArrayControls(educationDetailsIndex,'curriculumId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'curriculumId').hasError('required')">
                          Please Select Circulum.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-dropdown id="stream_dropdown" [autoDisplayFirst]="false" optionLabel="name" [options]="streamPerRow[educationDetailsIndex]"
                    optionValue="lookupDetailId" appendTo="body" formControlName="streamId" placeholder="Select Stream"
                    [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'streamId')?.touched &&
                    formArrayControls(educationDetailsIndex,'streamId')?.errors }">
                  </p-dropdown>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'streamId').touched && formArrayControls(educationDetailsIndex,'streamId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'streamId').hasError('required')">
                          Please Select Stream.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-dropdown id="country_dropdown" [autoDisplayFirst]="false" placeholder="Select Country"
                    optionLabel="name" appendTo="body" [options]="countries" optionValue="lookupDetailId"
                    formControlName="countryId" (onChange)="onCountryChange($event.value, educationDetailsIndex)" [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'countryId')?.touched &&
                    formArrayControls(educationDetailsIndex,'countryId')?.errors }"></p-dropdown>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'countryId').touched && formArrayControls(educationDetailsIndex,'countryId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'countryId').hasError('required')">
                          Please Select Country.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-dropdown id="states_dropdown" appendTo="body" optionLabel="name" placeholder="Select State"
                  [options]="statesPerRow[educationDetailsIndex]" optionValue="lookupDetailId" formControlName="stateId" [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'stateId')?.touched &&
                    formArrayControls(educationDetailsIndex,'stateId')?.errors }"></p-dropdown>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'stateId').touched && formArrayControls(educationDetailsIndex,'stateId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'stateId').hasError('required')">
                          Please Select State.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <input pInputText class="form-control" formControlName="institutionName" #institutionName maxlength="50" alphaOnly
                    placeholder="Enter School/College Name" id="institution_Name" alphaOnly [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'institutionName')?.touched &&
                    formArrayControls(educationDetailsIndex,'institutionName')?.errors }">
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'institutionName').touched && formArrayControls(educationDetailsIndex,'institutionName').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'institutionName').hasError('required')">
                          Please Enter School/College Name.
                        </div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{institutionName.value.length}}/{{maxLength.name}} </small>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <input pInputText class="form-control" formControlName="authorityName" #authorityName maxlength="50" alphaOnly
                    placeholder="Enter Board/University Name" id="authority_Name" alphaOnly [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'authorityName')?.touched &&
                    formArrayControls(educationDetailsIndex,'authorityName')?.errors }">
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'authorityName').touched && formArrayControls(educationDetailsIndex,'authorityName').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'authorityName').hasError('required')">
                          Please Enter Board/University Name.
                        </div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{authorityName.value.length}}/{{maxLength.name}} </small>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-calendar [yearNavigator]="true" [yearRange]="'1996:2025'" appendTo="body"
                    placeholder="select calender" [showIcon]="true" dateFormat="yy-mm-dd"
                    formControlName="passedOutyear" id="passed_Out_year" [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'passedOutyear')?.touched &&
                    formArrayControls(educationDetailsIndex,'passedOutyear')?.errors }"></p-calendar>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'passedOutyear').touched && formArrayControls(educationDetailsIndex,'passedOutyear').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'passedOutyear').hasError('required')">
                          Please Select Year of pass.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-dropdown id="gradingStystem_dropdown" [autoDisplayFirst]="false" appendTo="body"
                    placeholder="Select Grading Method" [options]="gradingMethods" optionLabel="name"
                    optionValue="lookupDetailId" formControlName="gradingMethodId" [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'gradingMethodId')?.touched &&
                    formArrayControls(educationDetailsIndex,'gradingMethodId')?.errors }"></p-dropdown>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'gradingMethodId').touched && formArrayControls(educationDetailsIndex,'gradingMethodId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'gradingMethodId').hasError('required')">
                          Please Select Grading System.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <input pInputText class="form-control" formControlName="gradingValue" numericOnly maxlength="3" #gradingValue
                    placeholder="Enter CGPA/Percentage System" id="grading_Value" numericOnly [ngClass]="{'is-invalid ng-dirty': formArrayControls(educationDetailsIndex,'gradingValue')?.touched &&
                    formArrayControls(educationDetailsIndex,'gradingValue')?.errors }">
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="formArrayControls(educationDetailsIndex,'gradingValue').touched && formArrayControls(educationDetailsIndex,'gradingValue').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="formArrayControls(educationDetailsIndex,'gradingValue').hasError('required')">
                          Please Enter CGPA/Percentage System.
                        </div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{gradingValue.value.length}}/{{maxLength.gradingvalues}} </small>
                    </div>
                  </div>
                </td>
                <td *ngIf="fbEducationDetails.controls['educationDetails'].value.length > 1">
                  <i class="pi pi-fw pi-times-circle text-3xl cursor-pointer"
                    *ngIf="!this.faeducationDetail().controls[educationDetailsIndex].get('id')?.value"
                    (click)="removeEducationDetail(educationDetailsIndex)"></i>
                  <i class="pi pi-fw pi-verified text-3xl"
                    *ngIf="this.faeducationDetail().controls[educationDetailsIndex].get('id')?.value"></i>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </form>
  <ng-template pTemplate="footer">
    <p-button type="button" label="Submit Education Details"
      class="p-element p-ripple p-button-primary p-button p-component m-2 p-1" [disabled]="fbEducationDetails.invalid"
      (click)="saveEducationDetails()">
    </p-button>
  </ng-template>
</p-dialog>

<!-- p-dialog Work Experience -->
<p-dialog header="Experience Details" [(visible)]="Experience" [modal]="true" showEffect="fade"
  [breakpoints]="{'960px': '70%', '640px': '80%'}" [style]="{width: '80%'}" (onHide)="onCloseExp()">
  <form [formGroup]="fbexperience">
    <div class=" align-items-center justify-content-center">
      <div class="p-fluid p-formgrid grid">
        <div class=" col-12 md:col-4 mt-2">
          <div class=" button-container">
            <p-button type="button" label="Add Experience Details" (click)="addexperienceDetails()"></p-button>
          </div>
        </div>
        <div class="col-12 scrolling_content" formArrayName="experienceDetails">
          <p-table #dt2 [value]="faexperienceDetail().controls" dataKey="id" [rows]="10" [rowHover]="true"
            styleClass="p-datatable-gridlines p-datatable-striped p-datatable-sm" [paginator]="false"
            [autoLayout]="true" responsiveLayout="scroll" [rowsPerPageOptions]="[10,25,50]">>
            <ng-template pTemplate="header">
              <tr>
                <th>Company Name</th>
                <th>Location</th>
                <th>Company Emp Id</th>
                <th>Country</th>
                <th>State</th>
                <th>Designation <sup class="p-error">*</sup></th>
                <th>Date Of Joining </th>
                <th>Date Of Relaving</th>
                <th>Skill Areas <sup class="p-error">*</sup></th>
                <th *ngIf="fbexperience.controls['experienceDetails'].value.length > 1"></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-experience let-experienceDetailsIndex="rowIndex">
              <tr [formGroupName]="experienceDetailsIndex">
                <td class="vertical-align-top">
                  <input pInputText class="form-control" formControlName="companyName" placeholder="Enter company Name"
                    alphaOnly maxlength="50" #companyName id="company_Name" [ngClass]="{'is-invalid ng-dirty': expDtlsformArrayControls(experienceDetailsIndex,'companyName')?.touched &&
                  expDtlsformArrayControls(experienceDetailsIndex,'companyName')?.errors }">
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'companyName').touched && expDtlsformArrayControls(experienceDetailsIndex,'companyName').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'companyName').hasError('minLength')">
                          Please Enter Minimum 2 letters.
                        </div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{companyName.value.length}}/{{maxLength.name}} </small>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <input pInputText class="form-control" id="company_Location" formControlName="companyLocation"
                    alphaOnly placeholder="Enter Location" maxlength="50" #companyLocation [ngClass]="{'is-invalid ng-dirty': expDtlsformArrayControls(experienceDetailsIndex,'companyLocation')?.touched &&
                   expDtlsformArrayControls(experienceDetailsIndex,'companyLocation')?.errors }">
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'companyLocation').touched && expDtlsformArrayControls(experienceDetailsIndex,'companyLocation').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'companyLocation').hasError('minLength')">
                          Please Enter Minimum 2 letters.
                        </div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{companyLocation.value.length}}/{{maxLength.name}} </small>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <input pInputText class="form-control" id="company_Employee_Id" formControlName="companyEmployeeId"
                    alphaNumeric placeholder="Enter Company Emp Id" #companyEmployeeId maxlength="10"
                    [ngClass]="{'is-invalid ng-dirty': expDtlsformArrayControls(experienceDetailsIndex,'companyEmployeeId')?.touched &&
                   expDtlsformArrayControls(experienceDetailsIndex,'companyEmployeeId')?.errors }">
                   <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'companyEmployeeId').touched && expDtlsformArrayControls(experienceDetailsIndex,'companyEmployeeId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'companyEmployeeId').hasError('minLength')">
                          Please Enter Minimum 2 letters.
                        </div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{companyEmployeeId.value.length}}/{{maxLength.phoneNo}} </small>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-dropdown inputId="dropdown" id="Address_country" [autoDisplayFirst]="false"  appendTo="body"
                    placeholder="Select Country" formControlName="countryId" [options]="countries"
                    optionValue="lookupDetailId" optionLabel="name"  (onChange)="onCountryChange($event.value, experienceDetailsIndex)" >
                  </p-dropdown>
                  <!-- (onChange)="getStatesByCountryId($event.value)" -->
                </td>
                <td class="vertical-align-top">
                  <p-dropdown id="states_dropdown" appendTo="body" optionLabel="name" placeholder="Select State"
                    [options]="statesPerRow[experienceDetailsIndex]" optionValue="lookupDetailId" formControlName="stateId" ></p-dropdown>
                </td>
                <td class="vertical-align-top">
                  <p-dropdown id="designation" appendTo="body" optionLabel="name" placeholder="Select Designation"
                    [options]="designation" optionValue="lookupDetailId" formControlName="designationId" [ngClass]="{'is-invalid ng-dirty': expDtlsformArrayControls(experienceDetailsIndex,'designationId')?.touched &&
                  expDtlsformArrayControls(experienceDetailsIndex,'designationId')?.errors }"></p-dropdown>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'designationId').touched && expDtlsformArrayControls(experienceDetailsIndex,'designationId').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'designationId').hasError('required')">
                          Please Select Designation.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <td class="vertical-align-top">
                  <p-calendar [showIcon]="true" formControlName="dateOfJoining" id="date_Of_Joining" appendTo="body"
                    placeholder="Select From Date"></p-calendar>
                </td>
                <td class="vertical-align-top">
                  <p-calendar [showIcon]="true" formControlName="dateOfReliving" appendTo="body"
                    placeholder="Select From Date"></p-calendar>
                </td>
                <td class="vertical-align-top">
                  <p-multiSelect placeholder="Select Skill Areas" inputId="multiselect" id="Experience_skillArea"
                    optionValue="lookupDetailId" (onChange)="onSelectSkill($event,experienceDetailsIndex)"  [filter]="false" filterBy="name"
                    formControlName="skillAreaIds" [options]="skillarea" optionLabel="name" [filter]="false"
                    filterBy="name" appendTo="body" [ngClass]="{'is-invalid ng-dirty': expDtlsformArrayControls(experienceDetailsIndex,'skillAreaIds')?.touched &&
                    expDtlsformArrayControls(experienceDetailsIndex,'skillAreaIds')?.errors }">
                  </p-multiSelect>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'skillAreaIds').touched && expDtlsformArrayControls(experienceDetailsIndex,'skillAreaIds').invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="expDtlsformArrayControls(experienceDetailsIndex,'skillAreaIds').hasError('required')">
                          Please Select Skill Areas.
                        </div>
                      </span>
                    </div>
                  </div>
                </td>
                <!-- <td class="vertical-align-top"><p-dropdown  appendTo="body" optionLabel="name" placeholder="Select Skill Area"
                        [options]="skillarea" optionValue="lookupDetailId" formControlName="skillareaId"></p-dropdown></td> -->
                <td *ngIf="fbexperience.controls['experienceDetails'].value.length > 1">
                  <i class="pi pi-fw pi-times-circle text-3xl cursor-pointer"
                    *ngIf="!this.faexperienceDetail().controls[experienceDetailsIndex].get('id')?.value"
                    (click)="faexperienceDetail().removeAt(experienceDetailsIndex)"></i>
                  <i class="pi pi-fw pi-verified text-3xl"
                    *ngIf="this.faexperienceDetail().controls[experienceDetailsIndex].get('id')?.value"></i>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </form>
  <ng-template pTemplate="footer">
    <p-button type="button" label="Submit Experience Details" (click)="saveEmpExperienceDetails()"
      [disabled]="fbexperience.invalid" class="p-element p-ripple p-button-primary p-button p-component m-2 p-1">
    </p-button>
  </ng-template>
</p-dialog>

