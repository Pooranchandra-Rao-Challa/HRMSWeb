<div class="col-12">
  <div class="card">

    <!-- Toolbar -->
    <p-toolbar styleClass="p-mb-4">
      <ng-template pTemplate="left">
        <h4>Projects</h4>
      </ng-template>
      <ng-template pTemplate="right">
        <button pButton pRipple label="Add New Project" icon="pi pi-plus" class="p-button-primary p-mr-2"
          id="Project_addProject" *ngIf="permission?.CanManageProjects" (click)="initProject(null)"></button>
      </ng-template>
    </p-toolbar>

    <!-- dialog -->
    <p-dialog header="Project" [(visible)]="dialog" [modal]="true" showEffect="fade"
      [breakpoints]="{'960px': '70%', '640px': '60%'}" [style]="{width: '80%'}">
      <div class="flex flex-column align-items-center justify-content-center">
        <form [formGroup]="fbproject" (ngSubmit)="onSubmit()" id="Role_roleForm">
          <div class="grid">
            <div class="col-12 ">
              <h5>Project Details</h5>
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                  <label class="required">Code:
                  </label>&nbsp; <input pInputText id="Project_code" type="text" formControlName="code"
                    [ngClass]="{ 'is-invalid ng-dirty': projectFormControls['code'].touched &&projectFormControls['code'].errors }"
                    (keydown)="restrictSpaces($event)" [readonly]="projectFormControls['projectId'].value!== null"
                    [maxlength]="maxLength.code" placeholder="Enter Code" #code alphaNumeric />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span *ngIf="projectFormControls['code'].touched && projectFormControls['code'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['code'].errors?.['required']">
                          Please Enter Code.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['code'].errors?.['minlength']">
                          Code Min Characters Is 4.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['code'].errors?.['maxlength']">
                          Code Min Characters Is 20.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{code.value.length}}/20</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Name:
                  </label>&nbsp; <input pInputText id="Project_name" type="text" formControlName="name"
                    [ngClass]="{ 'is-invalid ng-dirty': projectFormControls['name'].touched &&projectFormControls['name'].errors }"
                    (keydown)="restrictSpaces($event)" [readonly]="projectFormControls['projectId'].value!== null"
                    [maxlength]="maxLength.name" placeholder="Enter Name" #name alphaNumeric />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span *ngIf="projectFormControls['name'].touched && projectFormControls['name'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['name'].errors?.['required']">
                          Please Enter Name.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['name'].errors?.['minlength']">
                          Name Min Characters Is 2.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['name'].errors?.['maxlength']">
                          Name Max Characters Is 50.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{name.value.length}}/50</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Start Date:
                  </label>&nbsp; <p-calendar inputId="calendar" [readonlyInput]="true" [showIcon]="true"
                    [ngClass]="{ 'is-invalid ng-dirty': projectFormControls['InceptionAt'].touched &&projectFormControls['InceptionAt'].errors }"
                    yearRange="2000:2030" id="startDate" placeholder="Select Start Date" mask="99/99/9999"
                    formControlName="InceptionAt">
                  </p-calendar>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="projectFormControls['InceptionAt'].touched && projectFormControls['InceptionAt'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['InceptionAt'].errors?.['required']">
                          Please Select Start Date.</div>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label for="textarea">Description <sup class="p-error">*</sup>
                  </label>&nbsp; <textarea inputId="textarea" rows="5" cols="30" pInputTextarea
                    [ngClass]="{ 'is-invalid ng-dirty': projectFormControls['description'].touched &&projectFormControls['description'].errors }"
                    (keydown)="restrictSpaces($event)" [maxlength]="maxLength.description" id="Project_description"
                    class="freeze_text-area" #description placeholder="Enter Description"
                    formControlName="description"></textarea>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="projectFormControls['description'].touched && projectFormControls['description'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['description'].errors?.['required']">
                          Please Enter Description.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['description'].errors?.['minlength']">
                          Description Min Characters Is 2.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="projectFormControls['description'].errors?.['maxlength']">
                          Description Max Characters Is 256.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{description.value.length}}/256</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label>Upload Project Logo: </label>
                  <div class="grid">
                    <div class="col">
                      <br> &nbsp;
                      <img [src]="this.fbproject.get('logo').value"
                        onerror="this.onerror=null; this.src='https://t3.ftcdn.net/jpg/02/18/21/86/360_F_218218632_jF6XAkcrlBjv1mAg9Ow0UBMLBaJrhygH.jpg'"
                        alt="logo" height="100px" width="100px" class="up_logo">
                    </div>
                    <div class="col " style="padding-top:50px">
                      <p-fileUpload mode="basic" [maxFileSize]="1000000" chooseLabel="Choose logo"
                        url="https://www.primefaces.org/cdn/api/upload.php" (onSelect)="onFileSelect($event)"
                        accept="image/jpeg, image/png, image/jpg">
                      </p-fileUpload>
                    </div>
                  </div>

                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Is Active:
                  </label>
                  <br> &nbsp; <p-inputSwitch formControlName="isActive" id="Project_IsActive"
                    [readonly]="projectFormControls['projectId'].value== null"></p-inputSwitch>
                </div>
              </div>
              <h5>Client Details</h5>
              <div class="p-fluid p-formgrid grid" formGroupName="clients">
                <div class="field col-12 md:col-4">
                  <label class="required">Company Full Name:
                  </label>&nbsp;
                  <p-autoComplete formControlName="companyName" [suggestions]="this.filteredClients"
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['companyName'].touched && fcClientDetails.controls['companyName'].errors }"
                    (keydown)="restrictSpaces($event)" [readonly]="projectFormControls['projectId'].value!== null"
                    [maxlength]="maxLength.name" placeholder="Enter Company Full Name" #CompanyName
                    (completeMethod)="filterClients($event)" (onSelect)="onAutocompleteSelect($event)"
                    field="companyName" id="Project_fullName">
                  </p-autoComplete>

                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['companyName'].touched && fcClientDetails.controls['companyName'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['companyName'].errors?.['required']">
                          Please Enter Company Full Name.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['companyName'].errors?.['minlength']">
                          CompanyName Min Characters Is 2.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['companyName'].errors?.['maxlength']">
                          CompanyName Max Characters Is 50.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['companyName'].errors?.['pattern']">
                          Company Name Should Contain AlphaNumerics Only.</div>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Client Name:
                  </label>&nbsp;
                  <input pInputText id="Project_clientName" type="text" placeholder="Enter Client Name" alphaOnly
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['Name'].touched && fcClientDetails.controls['Name'].errors }"
                    (keydown)="restrictSpaces($event)" [maxlength]="maxLength.name" #clientName
                    formControlName="Name" />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['Name'].touched && fcClientDetails.controls['Name'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['Name'].errors?.['required']">
                          Please Enter Client Name.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['Name'].errors?.['minlength']">
                          Name Min Characters Is 2.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['Name'].errors?.['maxlength']">
                          Name Max Characters Is 50.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{clientName.value.length}}/50</small>
                    </div>
                  </div>
                </div>

                <div class="field col-12 md:col-4">
                  <label class="required">Client Email Id:
                  </label>&nbsp;
                  <input pInputText id="Project_clientEmail" placeholder="Enter Client Email Id" formControlName="email"
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['email'].touched && fcClientDetails.controls['email'].errors }"
                    (keydown)="restrictSpaces($event)" />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['email'].touched && fcClientDetails.controls['email'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['email'].errors?.['required']">
                          Please Enter Client Email Id.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['email'].errors?.['pattern']">
                          Please Enter Valid Client Email Id.</div>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Client Mobile No:
                  </label>&nbsp;
                  <input pInputText id="Project_clientMobileNo" type="text" placeholder="Enter Client Mobile No"
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['mobileNumber'].touched && fcClientDetails.controls['mobileNumber'].errors }"
                    #clientNo [maxlength]="maxLength.phoneNo" formControlName="mobileNumber" numericOnly />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['mobileNumber'].touched && fcClientDetails.controls['mobileNumber'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['mobileNumber'].errors?.['required']">
                          Please Enter Client Mobile No.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['mobileNumber'].errors?.['pattern']">
                          Please Enter Valid Client Mobile No.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{clientNo.value.length}}/10</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">CIN/GST No:
                  </label>&nbsp; <input pInputText id="Project_cinNo" type="text" placeholder="Enter CIN/GST No" #cinno
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['cinno'].touched && fcClientDetails.controls['cinno'].errors }"
                    (keydown)="restrictSpaces($event)" alphaNumeric [maxlength]="maxLength.cinNo"
                    formControlName="cinno" />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['cinno'].touched && fcClientDetails.controls['cinno'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['cinno'].errors?.['required']">
                          Please Enter CIN No.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['cinno'].errors?.['minlength']&&fcClientDetails.controls['cinno'].errors?.['maxlength']">
                          CIN/GST No Must Be In 21 Digits.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{cinno.value.length}}/21</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Is Active:
                  </label>
                  <br> &nbsp; <p-inputSwitch formControlName="isActive" id="Project_clientIsActive"
                    [readonly]="projectFormControls['projectId'].value== null"></p-inputSwitch>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">POC Name:
                  </label>&nbsp; <input pInputText id="Project_pocName" type="text" placeholder="Enter POC Name"
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['pocName'].touched && fcClientDetails.controls['pocName'].errors }"
                    (keydown)="restrictSpaces($event)" #pocName [maxlength]="maxLength.name" alphaOnly
                    formControlName="pocName" />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['pocName'].touched && fcClientDetails.controls['pocName'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['pocName'].errors?.['required']">
                          Please Enter POC Name.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['pocName'].errors?.['minlength']">
                          POC Name Min Characters Is 2.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['pocName'].errors?.['maxlength']">
                          POC Name Max Characters Is 50.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{pocName.value.length}}/50</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">POC Ph.no:
                  </label>&nbsp; <input pInputText id="Project_pocMobileNo" type="text" #pocNo numericOnly
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['pocMobileNumber'].touched && fcClientDetails.controls['pocMobileNumber'].errors }"
                    [maxlength]="maxLength.phoneNo" placeholder="Enter POC Ph.no" formControlName="pocMobileNumber" />
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['pocMobileNumber'].touched && fcClientDetails.controls['pocMobileNumber'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['pocMobileNumber'].errors?.['required']">
                          Please Enter POC Ph.no.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['pocMobileNumber'].errors?.['pattern']">
                          Please Enter Valid Client MobileNo.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{pocNo.value.length}}/10</small>
                    </div>
                  </div>
                </div>
                <div class="field col-12 md:col-4">
                  <label class="required">Address:
                  </label>&nbsp;
                  <textarea inputId="textarea" rows="3" cols="30" id="Project_clientAddress" pInputTextarea #address
                    [ngClass]="{ 'is-invalid ng-dirty': fcClientDetails.controls['address'].touched && fcClientDetails.controls['address'].errors }"
                    (keydown)="restrictSpaces($event)" [maxlength]="maxLength.address" formControlName="address"
                    placeholder="Enter Address" class="freeze_text-area"></textarea>
                  <div class="flex">
                    <div class="align-left w-60" style="width:70%">
                      <span
                        *ngIf="fcClientDetails.controls['address'].touched && fcClientDetails.controls['address'].invalid">
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['address'].errors?.['required']">
                          Please Enter Address.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['address'].errors?.['minlength']">
                          Address Min Characters Is 2.</div>
                        <div class="ng-invalid ng-touched p-error"
                          *ngIf="fcClientDetails.controls['address'].errors?.['maxlength']">
                          Address Max Characters Is 256.</div>
                      </span>
                    </div>
                    <div class="align-right w-40" style="width:30%; text-align:right;">
                      <small>{{address.value.length}}/256</small>
                    </div>
                  </div>
                </div>
              </div>
              <h5>Employee Details</h5>
              <div class="p-fluid p-formgrid grid">
                <div class="field col-12 md:col-4">
                  <label>Employees:</label>&nbsp;
                  <p-multiSelect *ngIf="this.addFlag == true" placeholder="Select Employees" [options]="employees"
                    optionLabel="employeeName" formControlName="projectAllotments" [filter]="true"
                    filterBy="employeeId,employeeName" appendTo="body">
                    <ng-template let-employee pTemplate="selectedItem">
                      <div class="block align-items-center gap-3">
                        <div>{{employee.employeeName}}</div>
                        <div>{{employee.employeeCode}}</div>
                      </div>
                    </ng-template>
                  </p-multiSelect>
                  <p-multiSelect *ngIf="this.addFlag == false" placeholder="Select Employees" [options]="Employees"
                    optionLabel="employeeName" formControlName="projectAllotments" [filter]="true"
                    filterBy="employeeId,employeeName" appendTo="body">
                    <ng-template let-employee pTemplate="selectedItem">
                      <div class="block align-items-center gap-3">
                        <div>{{employee.employeeName}}</div>
                        <div>{{employee.employeeCode}}</div>
                      </div>
                    </ng-template>
                  </p-multiSelect>
                </div>
              </div>
              <div class="grid">
                <div class="col-12 md:col-3" *ngFor="let employee of this.fbproject.get('projectAllotments').value">
                  <div class="m-2 card border-1 surface-border">
                    <div class="text-xl font-bold">{{employee.employeeName}}</div>
                    <span class="text-600 font-medium text-sm">
                      EmpId : {{employee.employeeId}}
                    </span><br />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <ng-template pTemplate="footer">
        <div class="col-4" style="float:right">
          <button pButton pRipple type="submit" [label]="submitLabel" [disabled]="!this.fbproject.valid"
            class="p-button-raised p-button-primary" (click)="onSubmit()"></button>
        </div>
      </ng-template>
    </p-dialog>


    <!-- Projects View -->


    <div class="card">
      <p-tabView>
        <p-tabPanel header="Card View ">
          <div class="grid mb-5">
            <div class="col-12 md:col-4 mb-5" *ngFor="let project of projects; let i = index ">
              <div class="list-none m-0 p-0 text-center">
                <img [src]="project.logo" alt="img" [style]="{width: '300px'}"
                  class="inline-flex align-items-center justify-content-center border-circle w-5rem h-5rem bg-primary-100 mb-5">
                <div class="text-2xl mb-3 font-medium">
                  <a class="cursor-pointer" (click)="showProjectDetails(project.projectId)"
                    id="Project_viewDetails">{{project.name}} </a>
                  <button pButton pRipple icon="pi pi-pencil" *ngIf="permission?.CanManageProjects"
                    class="p-element p-ripple p-button-text p-button-primary p-component m-0 p-0 justify-content-end"
                    (click)="initProject(project)" id="Project_editButton"></button>
                </div>
                <p class="line-height-3 mb-3">{{project.description}}</p>
              </div>
            </div>
          </div>
        </p-tabPanel>
        <!-- <p-tabPanel header="Hierarchy View">
          <div id="hrms" class="scroll_div scroll  pb-5">
            <p-organizationChart [value]="projectTreeData" selectionMode="single" [preserveSpace]="false">
              <ng-template let-node pTemplate="person">
                <div class="p-1 text-center" (click)="hierarchialDialog(node)">
                  <img [src]="node.data.image" class="mb-3 w-3rem h-3rem" />
                  <div class="font-bold">{{ node.data.name }}</div>
                  <div>{{ node.data.title }}</div>
                </div>
              </ng-template>
            </p-organizationChart>
          </div>
        </p-tabPanel> -->
        <p-tabPanel header="Org/Project Chart View">
          <div id="hrms" class="scroll_div scroll  pb-5">
            <app-d3-org-chart ></app-d3-org-chart>
          </div>
        </p-tabPanel>
      </p-tabView>
    </div>
    <!-- Project Details Dialog -->
    <p-dialog header="Project Details" [(visible)]="visible" [breakpoints]="{'960px': '70%', '640px': '60%'}"
      [style]="{width: '70%'}">
      <div class="card">
        <div class="grid">
          <div class="col-12 lg:col-3">
            <div class="fex">
              <div class="col text-center">
                <img [src]="this.projectDetails.logo" class="w-10 align-items-center border-transparent border-round" />
              </div>
            </div>
          </div>
          <div class="col-12 lg:col-9">
            <div class=" grid " style="text-align: left;">
              <div class="col-12 lg:col-12 "><span class="text-primary font-bold text-900">Project Name</span>:
                {{this.projectDetails.name}}</div>
              <div class="col-12 lg:col-12 "><span class="text-primary font-bold text-900">Project
                  Manager</span>: {{this.projectDetails.manager}} </div>
              <div class="col-12 lg:col-12 "><span class="text-primary font-bold text-900">Project Start
                  Date</span>: {{this.projectDetails.startDate| date: 'dd-MMM-yyyy'}} </div>
              <div class="col-12 lg:col-12 "><span class="text-primary font-bold text-900">Project
                  Description</span>:<br /> {{this.projectDetails.description}} </div>
            </div>
          </div>
        </div>
        <p-tabView>
          <p-tabPanel header="Client Details ">
            <div class="grid">
              <div class="col-12">
                <div class="card">
                  <ul class="list-none p-0 m-0 text-600 mb-7 text-600">
                    <li class="mb-3">
                      <span class="font-semibold mr-5">Company Full Name :</span>{{this.projectDetails.companyName}}
                    </li>
                    <li class="mb-3">
                      <span class="font-semibold  mr-5">CIN/GST No :</span>{{this.projectDetails.cinno}}
                    </li>
                    <li class="mb-3">
                      <span class="font-semibold  mr-5">POC Name :</span>{{this.projectDetails.pocName}}
                    </li>
                    <li class="mb-3">
                      <span class="font-semibold  mr-5">POC Ph.No :</span>{{this.projectDetails.pocMobileNumber}}
                    </li>
                    <li class="mb-3">
                      <span class="font-semibold  mr-5">Address :</span>{{this.projectDetails.address}}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </p-tabPanel>
          <p-tabPanel header="Team Members ">
            <div class="grid">
              <div class="col-12 md:col-6">
                <button pButton pRipple icon="pi pi-plus"
                  class="p-element p-ripple p-button-text p-button p-component mr-2"
                  (click)="addEmployees(this.projectDetails)"></button>
              </div>
            </div>
            <div class="grid">
              <div class="col-12 md:col-3" *ngFor="let employee of this.projectDetails.expandEmployees">
                <div class="m-2 card border-1 surface-border" *ngIf="employee.isActive==true">
                  <div class="text-xl font-bold">{{employee.employeeName}}</div>
                  <span class="text-600 font-medium text-sm">
                    EmpId : {{employee.employeeId}}<br>
                  </span><br />
                  <button pButton pRipple type="submit" label="Unassign"
                    class="p-element p-ripple p-button-text p-button p-component p-button-primary w-100"
                    (click)="unAssignedEmployee(employee)"></button>
                </div>
              </div>
            </div>
          </p-tabPanel>
        </p-tabView>
      </div>
    </p-dialog>
    <p-dialog header="Project" [(visible)]="dialog1" [modal]="true" showEffect="fade"
      [breakpoints]="{'960px': '70%', '640px': '60%'}" [style]="{width: '40%'}">
      <div class="flex flex-column align-items-center justify-content-center">
        <form [formGroup]="fbproject" (ngSubmit)="onSubmit()" id="Role_roleForm">
          <div class="col-12">
            <div class="p-fluid p-formgrid grid">
              <div class="field col-12">
                <label>Employees:</label>&nbsp;
                <p-multiSelect placeholder="Select Employees" [options]="Employees" optionLabel="employeeName"
                  formControlName="projectAllotments" [filter]="true" filterBy="employeeId,employeeName"
                  appendTo="body">
                  <ng-template let-employee pTemplate="selectedItem">
                    <div class="block align-items-center gap-3">
                      <div>{{employee.employeeName}}</div>
                      <div>{{employee.employeeId}}</div>
                    </div>
                  </ng-template>
                </p-multiSelect>
                <div class="grid">
                  <div class="col-12 md:col-3" *ngFor="let employee of this.fbproject.get('projectAllotments').value">
                    <div class="m-2 card border-1 surface-border">
                      <div class="text-xl font-bold">{{employee.employeeName}}</div>
                      <span class="text-600 font-medium text-sm">
                        EmpId : {{employee.employeeId}}
                      </span><br />
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </form>
      </div>
      <ng-template pTemplate="footer">
        <div class="col-6" style="float:right">
          <button pButton pRipple type="submit" [label]="submitLabel" [disabled]="!this.fbproject.valid"
            class="p-button-raised p-button-primary" (click)="onSubmit()"></button>
        </div>
      </ng-template>
    </p-dialog>
  </div>
</div>
